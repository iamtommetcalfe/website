import{i as d,j as m,k as f,l as y,w as h}from"./app.BTDxwzfC.js";function S(n){const i=d(),s=()=>{if(typeof document>"u")return;document.title=n.title;let t=document.querySelector('meta[name="description"]');t?t.setAttribute("content",n.description):(t=document.createElement("meta"),t.setAttribute("name","description"),t.setAttribute("content",n.description),document.head.appendChild(t)),a(n.title,n.description);const e=n.canonicalUrl||`https://iamtommetcalfe.com${i.path}`;p(e);const o=document.querySelector('meta[property="og:url"]');o&&o.setAttribute("content",e);const r=document.querySelector('meta[name="twitter:url"]');r&&r.setAttribute("content",e),n.structuredData&&l(n.structuredData)},l=t=>{document.querySelectorAll('script[type="application/ld+json"]').forEach(r=>{r.remove()}),(Array.isArray(t)?t:[t]).forEach(r=>{const c=document.createElement("script");c.setAttribute("type","application/ld+json"),c.textContent=JSON.stringify(r),document.head.appendChild(c)})},a=(t,e)=>{const o=document.querySelector('meta[property="og:title"]');o&&o.setAttribute("content",t);const r=document.querySelector('meta[property="og:description"]');r&&r.setAttribute("content",e);const c=document.querySelector('meta[name="twitter:title"]');c&&c.setAttribute("content",t);const u=document.querySelector('meta[name="twitter:description"]');u&&u.setAttribute("content",e)},p=t=>{let e=document.querySelector('link[rel="canonical"]');e?e.setAttribute("href",t):(e=document.createElement("link"),e.setAttribute("rel","canonical"),e.setAttribute("href",t),document.head.appendChild(e))};if(typeof window>"u")try{const t=m();t&&(t.seoMeta={title:n.title,description:n.description,canonicalUrl:n.canonicalUrl||`https://iamtommetcalfe.com${i.path}`,structuredData:n.structuredData})}catch{}f(()=>{s()}),y(()=>Promise.resolve()),h(()=>i.path,()=>{s()})}export{S as u};
